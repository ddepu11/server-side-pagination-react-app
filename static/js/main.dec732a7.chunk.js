(this["webpackJsonpnew-react"]=this["webpackJsonpnew-react"]||[]).push([[0],{12:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(5),r=c.n(a),s=(c(12),c(1)),l=c(7),i="SET_LOADING",j="SET_TERM",o="SET_NEWS",u="REMOVE_NEWS",d="SET_NO_OF_PAGES",b="NEXT_PAGE",O="PREV_PAGE",h=function(e,t){var c=t.payload;switch(t.type){case i:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case j:return Object(s.a)(Object(s.a)({},e),{},{term:c});case o:return Object(s.a)(Object(s.a)({},e),{},{news:c,loading:!1});case u:return Object(s.a)(Object(s.a)({},e),{},{news:e.news.filter((function(e){return e.objectID!==c}))});case d:return Object(s.a)(Object(s.a)({},e),{},{noOfPages:+c});case b:return Object(s.a)(Object(s.a)({},e),{},{currentPage:50===e.currentPage?0:e.currentPage+1});case O:return Object(s.a)(Object(s.a)({},e),{},{currentPage:0===e.currentPage?0:e.currentPage-1});default:return Object(s.a)({},e)}},x=c(0),p=Object(n.createContext)(),f={loading:!1,news:[],term:"js",noOfPages:0,currentPage:0},g=function(e){var t=e.children,c=Object(n.useReducer)(h,f),a=Object(l.a)(c,2),r=a[0],i=a[1];return Object(x.jsx)(p.Provider,{value:Object(s.a)(Object(s.a)({},r),{},{handleDelete:function(e){e.preventDefault();var t=e.target.dataset.id;i({type:u,payload:t})},dispatch:i,handleChange:function(e){i({type:j,payload:e.target.value})},handleNextPage:function(){i({type:b})},handlePrevPage:function(){i({type:O})}}),children:t})},v=function(){return Object(n.useContext)(p)},m=c(4),P=c.n(m),N=c(6);function y(){return Object(x.jsx)("div",{className:"loading",children:Object(x.jsx)("h1",{children:"Loading..."})})}function E(){var e=v(),t=e.news,c=e.loading,a=e.handleDelete,r=e.currentPage,s=e.noOfPages,l=e.handlePrevPage,j=e.handleNextPage;!function(){var e=v(),t=e.term,c=e.dispatch,a=e.currentPage,r="https://hn.algolia.com/api/v1/search?query=".concat(t,"&tags=story&page=").concat(a),s=function(){var e=Object(N.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:i}),e.prev=1,e.next=4,fetch(r);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c({type:o,payload:n.hits}),c({type:d,payload:n.nbPages}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return s()}),[t,a])}();var u=c||0===t.length?"":t.map((function(e,t){var c=e.author,n=e.created_at,r=e.title,s=e.points,l=e.relevancy_score,i=e.url,j=e.objectID;return Object(x.jsxs)("a",{href:i,className:"news card",children:[Object(x.jsx)("div",{className:"title flex c",children:Object(x.jsx)("p",{children:r})}),Object(x.jsxs)("div",{className:"autor flex c",children:[Object(x.jsx)("span",{children:"Author:"}),Object(x.jsx)("p",{children:c})]}),Object(x.jsxs)("div",{className:"created flex c",children:[Object(x.jsx)("span",{children:"Created At:"}),Object(x.jsx)("p",{children:new Date(n).toLocaleDateString()})]}),Object(x.jsxs)("div",{className:"points flex c",children:[Object(x.jsx)("span",{children:"Points:"}),Object(x.jsx)("p",{children:s})]}),Object(x.jsxs)("div",{className:"relevent flex c",children:[Object(x.jsx)("span",{children:"Relevent:"}),Object(x.jsxs)("p",{children:[Math.floor(l/1e3),"%"]})]}),Object(x.jsx)("button",{className:"del","data-id":j,onClick:a,children:"Delete"})]},t)})),b=Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsx)("button",{className:"prev",onClick:l,children:"Prev"}),Object(x.jsx)("span",{children:"".concat(r," of ").concat(s)}),Object(x.jsx)("button",{onClick:j,className:"next",children:"Next"})]});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("main",{className:"hero",children:c?Object(x.jsx)(y,{}):u}),0!==s?b:""]})}function w(){var e=v(),t=e.term,c=e.handleChange;return Object(x.jsx)("form",{className:"form",children:Object(x.jsx)("input",{type:"text",value:t,onChange:c})})}var _=function(){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(w,{}),Object(x.jsx)(E,{})]})};r.a.render(Object(x.jsx)(g,{children:Object(x.jsx)(_,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.dec732a7.chunk.js.map