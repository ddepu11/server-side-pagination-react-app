{"version":3,"sources":["actions.js","reducer.js","context.js","Components/Loading.jsx","Components/News.jsx","useFetch.jsx","Components/SearchFrom.jsx","App.js","index.js"],"names":["SET_LOADING","SET_TERM","SET_NEWS","REMOVE_NEWS","SET_NO_OF_PAGES","NEXT_PAGE","PREV_PAGE","reducer","state","action","payload","type","loading","term","news","filter","item","objectID","noOfPages","currentPage","AppContext","createContext","initialState","AppProvider","children","useReducer","dispatch","Provider","value","handleDelete","e","preventDefault","id","target","dataset","handleChange","handleNextPage","handlePrevPage","useGlobalContext","useContext","Loading","className","News","url","getNews","a","fetch","res","json","data","hits","nbPages","console","log","useEffect","useFetch","toShow","length","map","index","author","created_at","title","points","relevancy_score","href","Date","toLocaleDateString","Math","floor","data-id","onClick","pagination","SearchFrom","onChange","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dec732a7.chunk.js","sourcesContent":["const SET_LOADING = \"SET_LOADING\";\r\nconst SET_TERM = \"SET_TERM\";\r\nconst SET_NEWS = \"SET_NEWS\";\r\nconst REMOVE_NEWS = \"REMOVE_NEWS\";\r\nconst SET_NO_OF_PAGES = \"SET_NO_OF_PAGES\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst NEXT_PAGE = \"NEXT_PAGE\";\r\nconst PREV_PAGE = \"PREV_PAGE\";\r\n\r\nexport {\r\n  NEXT_PAGE,\r\n  PREV_PAGE,\r\n  SET_LOADING,\r\n  SET_NEWS,\r\n  SET_TERM,\r\n  REMOVE_NEWS,\r\n  SET_NO_OF_PAGES,\r\n  SET_CURRENT_PAGE,\r\n};\r\n","import {\r\n  SET_LOADING,\r\n  SET_NEWS,\r\n  SET_TERM,\r\n  REMOVE_NEWS,\r\n  SET_NO_OF_PAGES,\r\n  NEXT_PAGE,\r\n  PREV_PAGE,\r\n} from \"./actions\";\r\n\r\nconst reducer = (state, action) => {\r\n  const payload = action.payload;\r\n\r\n  switch (action.type) {\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case SET_TERM:\r\n      return {\r\n        ...state,\r\n        term: payload,\r\n      };\r\n    case SET_NEWS:\r\n      return {\r\n        ...state,\r\n        news: payload,\r\n        loading: false,\r\n      };\r\n    case REMOVE_NEWS:\r\n      return {\r\n        ...state,\r\n        news: state.news.filter((item) => item.objectID !== payload),\r\n      };\r\n    case SET_NO_OF_PAGES:\r\n      return {\r\n        ...state,\r\n        noOfPages: +payload,\r\n      };\r\n\r\n    case NEXT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: state.currentPage === 50 ? 0 : state.currentPage + 1,\r\n      };\r\n    case PREV_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: state.currentPage === 0 ? 0 : state.currentPage - 1,\r\n      };\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n};\r\n\r\nexport { reducer };\r\n","import { createContext, useContext, useReducer } from \"react\";\r\nimport { reducer } from \"./reducer\";\r\nimport { REMOVE_NEWS, SET_TERM, PREV_PAGE, NEXT_PAGE } from \"./actions\";\r\n\r\nconst AppContext = createContext();\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  news: [],\r\n  term: \"js\",\r\n  noOfPages: 0,\r\n  currentPage: 0,\r\n};\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const handleDelete = (e) => {\r\n    e.preventDefault();\r\n    const id = e.target.dataset.id;\r\n\r\n    dispatch({ type: REMOVE_NEWS, payload: id });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    dispatch({ type: SET_TERM, payload: e.target.value });\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    dispatch({ type: NEXT_PAGE });\r\n  };\r\n  const handlePrevPage = () => {\r\n    dispatch({ type: PREV_PAGE });\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        handleDelete,\r\n        dispatch,\r\n        handleChange,\r\n        handleNextPage,\r\n        handlePrevPage,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalContext = () => useContext(AppContext);\r\n\r\nexport { AppProvider, useGlobalContext };\r\n","import React from \"react\";\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <h1>Loading...</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../context\";\r\nimport { useFetch } from \"../useFetch\";\r\nimport Loading from \"./Loading\";\r\n\r\nexport default function News() {\r\n  const {\r\n    news,\r\n    loading,\r\n    handleDelete,\r\n    currentPage,\r\n    noOfPages,\r\n    handlePrevPage,\r\n    handleNextPage,\r\n  } = useGlobalContext();\r\n\r\n  useFetch();\r\n\r\n  let toShow =\r\n    !loading && news.length !== 0\r\n      ? news.map((item, index) => {\r\n          const {\r\n            author,\r\n            created_at,\r\n            title,\r\n            points,\r\n            relevancy_score,\r\n            url,\r\n            objectID,\r\n          } = item;\r\n\r\n          return (\r\n            <a key={index} href={url} className=\"news card\">\r\n              <div className=\"title flex c\">\r\n                <p>{title}</p>\r\n              </div>\r\n              <div className=\"autor flex c\">\r\n                <span>Author:</span>\r\n                <p>{author}</p>\r\n              </div>\r\n              <div className=\"created flex c\">\r\n                <span>Created At:</span>\r\n                <p>{new Date(created_at).toLocaleDateString()}</p>\r\n              </div>\r\n              <div className=\"points flex c\">\r\n                <span>Points:</span>\r\n                <p>{points}</p>\r\n              </div>\r\n              <div className=\"relevent flex c\">\r\n                <span>Relevent:</span>\r\n                <p>{Math.floor(relevancy_score / 1000)}%</p>\r\n              </div>\r\n              <button className=\"del\" data-id={objectID} onClick={handleDelete}>\r\n                Delete\r\n              </button>\r\n            </a>\r\n          );\r\n        })\r\n      : \"\";\r\n  let pagination = (\r\n    <div className=\"pagination\">\r\n      <button className=\"prev\" onClick={handlePrevPage}>\r\n        Prev\r\n      </button>\r\n      <span>{`${currentPage} of ${noOfPages}`}</span>\r\n      <button onClick={handleNextPage} className=\"next\">\r\n        Next\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <main className=\"hero\">{loading ? <Loading /> : toShow}</main>\r\n      {noOfPages !== 0 ? pagination : \"\"}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useGlobalContext } from \"./context\";\r\nimport { SET_LOADING, SET_NEWS, SET_NO_OF_PAGES } from \"./actions\";\r\n\r\nconst useFetch = () => {\r\n  const { term, dispatch, currentPage } = useGlobalContext();\r\n\r\n  const url = `https://hn.algolia.com/api/v1/search?query=${term}&tags=story&page=${currentPage}`;\r\n\r\n  const getNews = async () => {\r\n    dispatch({ type: SET_LOADING });\r\n    try {\r\n      const res = await fetch(url);\r\n      const data = await res.json();\r\n      dispatch({ type: SET_NEWS, payload: data.hits });\r\n      dispatch({ type: SET_NO_OF_PAGES, payload: data.nbPages });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(\r\n    () => getNews(),\r\n    // eslint-disable-next-line\r\n    [term, currentPage]\r\n  );\r\n};\r\n\r\nexport { useFetch };\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../context\";\r\n\r\nexport default function SearchFrom() {\r\n  const { term, handleChange } = useGlobalContext();\r\n\r\n  return (\r\n    <form className=\"form\">\r\n      <input type=\"text\" value={term} onChange={handleChange} />\r\n    </form>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport News from \"./Components/News\";\nimport SearchFrom from \"./Components/SearchFrom\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <SearchFrom />\n      <News />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context\";\n\nReactDOM.render(\n  <AppProvider>\n    <App />\n  </AppProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}